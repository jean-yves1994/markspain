"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}function getUrlParameter(e){for(var t,i=window.location.search.substring(1).split("&"),n=0;n<i.length;n++)if((t=i[n].split("="))[0]===e)return void 0===t[1]||decodeURIComponent(t[1])}function getAllUtms(e){for(var t=[],i=0;i<e.length;i+=1){var n=getUrlParameter(e[i]);n&&t.push(e[i]+"="+n)}return t}function hasAllUtms(t,e){return!e.some(function(e){return!t.includes(e)})}function setAllUtms(e,t,i,n,o){for(var a=/\&.+?(?=#)/gi,r=0;r<i.length;r+=1){var s,l=i[r].href;0<l.indexOf(e)&&!hasAllUtms(l,n)&&((s=(l=(l=l.replace(t,"")).replace(a,"")).split("#"))[0].indexOf("?")<0?s[0]+="?"+n.join("&"):s[0]+="&"+n.join("&"),o&&(s[0]+="&utm_source_included=1"),l=s.join("#"),i[r].href=l)}}function setUtmCookie(e){var t="ms_utm_source",e=e.replace("utm_source=","");if(n=Cookies.get(t))for(n+="-"+e;1024<n.length;)var i=n.indexOf("-"),n=n.substring(i+1);else n=e;Cookies.set(t,n,{expires:30})}function containsBrandString(t){return["google brand","google+brand","bing brand ppc","bing+brand+ppc"].some(function(e){return t.toLowerCase().includes(e)})}function logCmaStep(e){console.log("logCmaStep(index):::",e),0<e&&(window.dataLayer.push({event:"cmaFormStepComplete"+e}),fbq("trackCustom","Guaranteed Offer Form Step "+e))}function bindClickEvent(){jQuery("button.slds-button").click(function(){var e=0;jQuery(this).hasClass("wp-1")?e=1:jQuery(this).hasClass("wp-2")?e=2:jQuery(this).hasClass("wp-3")?e=3:jQuery(this).hasClass("wp-4")?e=4:jQuery(this).hasClass("wp-5")?e=5:jQuery(this).hasClass("wp-6")?e=6:jQuery(this).hasClass("wp-7")?e=7:jQuery(this).hasClass("wp-8")?e=8:jQuery(this).hasClass("wp-9")&&(e=9,gtag("event","conversion",{send_to:"AW-756743426/MiilCJn2ypcBEIL66-gC"}),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"cmaFormSubmission"})),logCmaStep(e),setTimeout(function(){bindClickEvent()},2e3)})}function waitForElementToDisplay(e,t,i){jQuery(e).length?bindClickEvent():setTimeout(function(){console.log("waitForElementToDisplayrecursoin"),waitForElementToDisplay(e,t)},t)}function addValidationRules(e,t,i){"true"===t?(jQuery(e).attr("required","true"),jQuery(e).prop("aria-invalid","true")):(jQuery(e).attr("required","false"),jQuery(e).prop("aria-invalid","false"));var t=jQuery(e).parent().prop("class"),n=jQuery(e).parent().parent().prop("class");("Phone"===i||t.includes("phone")||n.includes("phone"))&&jQuery(e).on("invalid",function(e){e.target.setCustomValidity(""),e.target.setCustomValidity("The phone number entered is invalid, please check the formatting (e.g. (###) ###-###).")}).on("input",function(e){e.target.setCustomValidity("")}),"Email"!==i&&!t.includes("email")||(jQuery(e).attr("pattern","[a-zA-Z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-zA-Z0-9-]+(.[a-zA-Z0-9-]+)*"),jQuery(e).on("invalid",function(e){e.target.setCustomValidity(""),e.target.setCustomValidity("The email address entered is invalid, please check the formatting (e.g. email@domain.com).")}).on("input",function(e){e.target.setCustomValidity("")}))}function handleClientSideValidation(e,t){var i="#gform_"+e,t="#gform_page_"+e+"_"+t,n=(0<jQuery(i).length&&0===jQuery(t).length&&(t=i),jQuery('input[placeholder="Address Line 2"]').prop("required",!1),jQuery('input[placeholder="Address Line 2"]').prop("aria-required",!1),jQuery(t+" input, "+t+" select, "+t+" textarea").each(function(e,t){var i=jQuery(t).attr("aria-required"),n=jQuery(t).prop("required"),o=jQuery(t).attr("placeholder"),a="false";(i||n)&&(a="true",jQuery(t).attr("aria-invalid","true"),jQuery(t).prop("aria-invalid","true"),jQuery(t).attr("required","required")),addValidationRules(t,a,o)}),jQuery(t+' .gfield_checkbox input[type="checkbox"]'));0<jQuery(t+' .gfield_checkbox input[type="checkbox"]:checked').length&&n.removeAttr("required"),1<n.length&&n.on("change",function(e){n.is(":checked")?n.removeAttr("required"):n.attr("required","required")}),jQuery(t+" .gform_next_button, #gform_submit_button_"+e).each(function(e){var a=jQuery(this),r=a.closest("form");a.attr("data-click",jQuery(a).attr("onclick")),a.attr("data-key",jQuery(a).attr("onkeypress")),a.removeAttr("onclick").removeAttr("onkeypress"),a.unbind(),a.off("onclick"),a.off("click"),a.off("onkeypress"),a.on("click keypress",function(e){var t,i,n,o=[];return r.find('input[required="required"], select[required="required"]').each(function(){if(!this.validity.valid&&jQuery(this).is(":visible"))return o.push("false"),jQuery(this).focus(),r[0].reportValidity(),e.preventDefault(),!1;o.push("true"),jQuery(this).attr("aria-invalid","false"),jQuery(this).prop("aria-invalid","false")}),o.includes("false")||(t=jQuery(this).attr("data-click"),i=jQuery(this).attr("data-key"),n=null,n=13===e.which?i:t,Function(n)(),a.clone(),0<!jQuery(this).closest("#page-cma").length&&0<!jQuery(this).closest("#hero-cma").length&&(jQuery('<button class="gform_button button gform_button_submitting">Submitting  <span class="lds-dual-ring"></span></button>').insertAfter(a),a.css({opacity:0,left:"-100000px",position:"absolute"})),jQuery(this).closest("form").trigger("submit",[!0])),e.preventDefault(),!1})})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}jQuery(document).ready(function(i){i(document).on("click","[data-office-id]",function(){var e=i(this).data("office-id"),t=i(this).data("job-id");console.log(e),console.log(t),i('option[value="'+e+'"]').prop("selected","selected").change(),i('option[value="'+t+'"]').prop("selected","selected").change(),i("html,body").animate({scrollTop:i("#careers-form").offset().top},1e3)})}),jQuery(document).ready(function(i){i(".cta-modal").each(function(){i(this);var e,t=i(this).data("gfid");1<i("[data-gfid="+t+"]").length&&(e=i("[data-gfid="+t+"]").first().attr("id"),i("[data-gfid="+t+"]").each(function(){i(this).attr("id")!==e&&i('.button[data-open="'+i(this).attr("id")+'"]').attr("data-open",e)}))})}),jQuery(document).ready(function(t){t('a[href="#cma-hero"]').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=t(this.hash);if((e=e.length?e:t("[name="+this.hash.slice(1)+"]")).length)return t("html,body").animate({scrollTop:e.offset().top},1e3),t("#cma-address").focus(),!1}})}),window.jQuery(document).ready(function(e){window.CmaForm=function(){function o(e,t,i){_classCallCheck(this,o),this.entryId=null,this.formId=e,this.fieldId=t,this.triggerStep=i,this.rootUrl=window.cma_plugin_folder,this.zipcode=null,this.locationInfo=null,this.stepsCompleted=[],this.optionalSteps=[],this.form=jQuery("#gform_"+e),this.fieldIdentifier=this.formId+"_"+this.fieldId+"_1",this.address=jQuery("#input_"+this.fieldId),this.skipStep1=!1,this.place=null,this.totalPages=null,this.mapInitialized=!1,this.urlInitialized=!1,this.userEmail=null,this.vwoSteps={step1:33,step2:34,step3:35,step4:36,step5:37,step6:38,step7:39},this.optionalLastPage=!1;var n=this;this.mapMarkup='<div id="cmaMap" v-show="locationInfo"><h4><span>Is this your house? </span> <small id="cma-property-address">{{ propertyAddress }}</small></h4><div id="address-confirm-wrap"><div id="address-confirm-map"></div></div></div>',jQuery(".optional-page").each(function(){var e=jQuery(this).attr("id");n.optionalSteps.push(Number(e.replace("gform_page_"+n.formId+"_","")))}),this.getParameterByName("address1")&&!1===this.urlInitialized?(this.skipStep1=!0,this.urlInitialized=!0,this.address=this.getParameterByName("address1"),this.address2=this.getParameterByName("address2"),t=this.address.split(","),this.errors=null,3 in t||(t[3]="USA"),this.city=t[1],this.state=this.getParameterByName("state"),this.zip=this.getParameterByName("zip"),this.country=this.getParameterByName("country"),this.entry_id=this.getParameterByName("entry_id"),this.locationInfo={},this.locationInfo.latitude=this.getParameterByName("latitude"),this.locationInfo.longitude=this.getParameterByName("longitude"),jQuery(".cma-primary-address .address_line_1 input").val(this.address),jQuery("#gform_page_"+this.formId+"_1").hide(),jQuery("#gform_page_"+this.formId+"_2").show(),jQuery(".gfieldname_"+this.formId+"_street .ginput_container input").val(t[0]),jQuery(".gfieldname_"+this.formId+"_country .ginput_container input").val(this.country),jQuery(".gfieldname_"+this.formId+"_county .ginput_container input").val(this.county),jQuery(".gfieldname_"+this.formId+"_state .ginput_container input").val(this.state),jQuery(".gfieldname_"+this.formId+"_city .ginput_container input").val(this.city),jQuery(".gfieldname_"+this.formId+"_postalCode .ginput_container input").val(this.zip),jQuery(".gfieldname_"+this.formId+"_zip .ginput_container input").val(this.zip),this.step(2)):this.step(1),jQuery(document).on("gform_page_loaded",function(e,t,i){n.totalPages||(n.totalPages=jQuery(".gform_page").length),n.step(i)}),jQuery(document).on("gform_confirmation_loaded",function(){var e,t,i;jQuery("#gform_confirmation_message_"+n.formId).length&&(e=n.totalPages,i=n.totalPages-1,t=e,!n.stepsCompleted.includes(i)&&n.optionalSteps.includes(e)&&(t=e-1),i=n.userEmail||"",n.submitFacebookEvents(t),window.dataLayer.push({event:"cmaFormStepComplete"+t,email:i}),window.dataLayer.push({event:"cmaFormSubmission",email:i}),window.google_trackConversion({google_conversion_id:799784769,google_conversion_label:"_Ha3CP_p8IQBEMH-rv0C",google_remarketing_only:!1}))}),gform.addFilter("gform_spinner_target_elem",function(e,t){return jQuery(".gform_page_fields")})}return _createClass(o,[{key:"getParameterByName",value:function(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}},{key:"step",value:function(e){e=parseInt(e),jQuery(".gfieldname_"+this.formId+"_form_step input.gform_hidden").val(e);var t=jQuery("#gform_page_"+this.formId+"_"+e),i=(jQuery("#gform_page_"+this.formId+"_"+(e-1)),e-1),n=this.optionalSteps.includes(e),o={};t.hasClass("optional-page");1===e?(jQuery(".cma-start-over").hide(),jQuery("#input_"+this.fieldIdentifier).val(""),jQuery("document").trigger("gform_post_render")):jQuery(".cma-start-over").show(),e==this.triggerStep&&this.getMap(),!this.userEmail&&0<jQuery(".homeownerEmail input").length&&(this.userEmail=jQuery(".homeownerEmail input").val().toLowerCase()),this.totalPages===e-1&&!this.stepsCompleted.includes(i)&&n&&(this.optionalLastPage=!0),this.stepsCompleted.includes(i)||(this.stepsCompleted.push(i),o=this.userEmail?{event:"cmaFormStepComplete"+i,email:this.userEmail}:{event:"cmaFormStepComplete"+i},0<i&&window.dataLayer.push(o)),0<i&&this.submitFacebookEvents(i),this.trackStepVWO(e)}},{key:"processAttomResponse",value:function(e){this.locationInfo=e.profile.data.property[0].location,this.place=e.profile.data.property[0],jQuery(".numberOfBedrooms input").val(this.place.building.rooms.beds),jQuery(".numberOfBathrooms input").val(this.place.building.rooms.bathstotal),jQuery(".squareFootage input").val(this.place.building.size.bldgsize),jQuery(".gfieldname_"+this.formId+"_street .ginput_container input").val(this.place.address.line1),jQuery(".gfieldname_"+this.formId+"_yearBuilt .ginput_container input").val(this.place.summary.yearbuilt),jQuery(".gfieldname_"+this.formId+"_lotSize .ginput_container input").val(this.place.lot.lotsize2),jQuery(".gfieldname_"+this.formId+"_county .ginput_container input").val(this.place.area.countrysecsubd),jQuery(".gfieldname_"+this.formId+"_state .ginput_container input").val(this.place.address.countrySubd),jQuery(".gfieldname_"+this.formId+"_city .ginput_container input").val(this.place.address.locality),jQuery(".gfieldname_"+this.formId+"_postalCode .ginput_container input").val(this.place.address.postal1),jQuery(".gfieldname_"+this.formId+"_zip .ginput_container input").val(this.place.address.postal1),jQuery(".gfieldname_"+this.formId+"_apn .ginput_container input").val(this.place.identifier.apn),jQuery(".gfieldname_"+this.formId+"_avmHigh .ginput_container input").val(this.place.avm.amount.high),jQuery(".gfieldname_"+this.formId+"_avmLow .ginput_container input").val(this.place.avm.amount.low),jQuery(".gfieldname_"+this.formId+"_avmMedium .ginput_container input").val(this.place.avm.amount.value)}},{key:"processGoogleResponse",value:function(){var e;this.place&&(this.locationInfo={latitude:this.place.geometry.location.lat(),longitude:this.place.geometry.location.lng()},e=this.getAddressComponent("street_number")+" "+this.getAddressComponent("route"),jQuery(".gfieldname_"+this.formId+"_street .ginput_container input").val(e),jQuery(".gfieldname_"+this.formId+"_country .ginput_container input").val(this.getAddressComponent("country","short")),jQuery(".gfieldname_"+this.formId+"_county .ginput_container input").val(this.getAddressComponent("administrative_area_level_2","short")),jQuery(".gfieldname_"+this.formId+"_state .ginput_container input").val(this.getAddressComponent("administrative_area_level_1","short")),jQuery(".gfieldname_"+this.formId+"_city .ginput_container input").val(this.getAddressComponent("locality","long")),jQuery(".gfieldname_"+this.formId+"_postalCode .ginput_container input").val(this.getAddressComponent("postal_code")),jQuery(".gfieldname_"+this.formId+"_zip .ginput_container input").val(this.getAddressComponent("postal_code")))}},{key:"getMap",value:function(){jQuery("#cmaMap")&&jQuery("#cmaMap").remove(),jQuery("#gform_page_"+this.formId+"_2").prepend(this.mapMarkup);var n,e="input_"+this.fieldIdentifier,o=(n=this.skipStep1&&!window.autocomplete[e].getPlace()?(t=this.address,this.address):(window.autocomplete[e].getPlace()&&(t=window.autocomplete[e].getPlace(),this.place=t),this.place.formatted_address),this.place&&"address_components"in this.place&&this.parseAddress(),this),e=n.split(","),t=(this.errors=null,{address1:e[0],address2:e[1].trim()+", "+e[2].trim()});jQuery.ajax({type:"POST",dataType:"json",async:!1,contentType:"application/json; charset=utf-8",data:JSON.stringify(t),url:"/wp-json/gravity-forms-cma/v1/getAttomData"}).done(function(e){var t,i=[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}];"SuccessWithResult"===e.profile.data.status.msg?o.processAttomResponse(e):(o.place&&(o.locationInfo={latitude:o.place.geometry.location.lat(),longitude:o.place.geometry.location.lng()}),o.processGoogleResponse()),o.locationInfo&&window.google&&(t={lat:parseFloat(o.locationInfo.latitude),lng:parseFloat(o.locationInfo.longitude)},jQuery("#cma-property-address").html(n),setTimeout(function(){var e;e=new google.maps.Map(document.getElementById("address-confirm-map"),{center:t,zoom:16,styles:i,scrollwheel:!1,mapTypeControl:!1,navigationControl:!1,draggable:!1,zoomControl:!0,streetViewControl:!1}),new google.maps.Marker({position:t,map:e}),o.mapInitialized=!0},100))}).fail(function(){console.log("fail")}).always(function(){})}},{key:"parseAddress",value:function(){this.propertyAddress=this.place.formatted_address,this.address=this.place.formatted_address,this.zipcode=this.getAddressComponent("postal_code")}},{key:"getAddressComponent",value:function(e,t){var i;t=t||"long";for(var n=0;n<this.place.address_components.length;n++)for(var o=0;o<this.place.address_components[n].types.length;o++)this.place.address_components[n].types[o]===e&&(i=this.place.address_components[n][t+"_name"]);return i}},{key:"trackStepVWO",value:function(e){var t=this.vwoSteps["step"+e];jQuery.isNumeric(t)&&(window.VWO=window.VWO||[],window.VWO.push(["track.goalConversion",t]),4===e)&&(window._vis_opt_queue=window._vis_opt_queue||[],window._vis_opt_queue.push(function(){_vis_opt_goal_conversion(200)}))}},{key:"submitFacebookEvents",value:function(e){jQuery(".homeownerEmail input").length&&(t={homeownerEmail:jQuery(".homeownerEmail input").val().toLowerCase(),homeownerFName:jQuery(".homeownerFName input").val().toLowerCase(),homeownerLName:jQuery(".homeownerLName input").val().toLowerCase(),homeownerPhone:jQuery(".homeownerPhone input").val().replace(/\D/g,"")},this.fbFormData=t);var t={step:e,formData:this.fbFormData},e=this.getParameterByName("fb_test_event_code");e&&(t.test_event_code=e),jQuery.post("/wp-json/msre/v1/facebook/cma",JSON.stringify(t)).done(function(e){e=e.pixel;jQuery("head").append(e)},"json")}}]),o}()}),jQuery(document).ready(function(c){c(document).on("click","[data-personid]",function(e){e.preventDefault();c(this).data("personid");var e=c(this).data("name"),t=c(this).data("title"),i=c(this).data("image"),n=c(this).data("bio"),o=c(this).data("contact");c("#bio-name").html(e),c("#bio-title").html(t),c("#bio-bio").html("").append(n),c("#bio-contact").html("").append(o),0<i.length&&c("#bio-right").css("background-image","url("+i+")"),c("#bio-reveal").foundation("open")}),c(document).on("click","[data-personid]",function(e){e.preventDefault();c(this).data("personid");var e=c(this).data("name"),t=c(this).data("title"),i=c(this).data("image"),n=c(this).data("bio"),o=c(this).data("contact"),a=c(this).data("quote"),r=c(this).data("quote-name"),s=c(this).data("quote-url"),l=c(this).data("facebook"),u=c(this).data("twitter"),d=c(this).data("linkedin");c("#bio-name").html(e),c("#bio-title").html(t),c("#bio-bio").html("").append(n),c("#bio-contact").html("").append(o),0<a.length?(c("#bio-quote").html("").append("<hr><h3>Client testimonial</h3>"),c("#bio-quote").append(a),c("#bio-quote-name").html("").append(r)):(c("#bio-quote").html(""),c("#bio-quote-name").html("")),0<s.length?c("#bio-quote-url").html("").append('<p><a href="'+s+'" target="_blank">Read more</a></p>'):c("#bio-quote-url").html(""),0<i.length?c("#bio-right").css("background-image","url("+i+")"):c("#bio-right").css("background-image","none"),c("#bio-social").html(""),0<l.length&&c("#bio-social").append('<a href="'+l+'" target="_blank"><span class="icon-facebook"></span></a>'),0<d.length&&c("#bio-social").append('<a href="'+d+'" target="_blank"><span class="icon-linkedin"></span></a>'),0<u.length&&c("#bio-social").append('<a href="'+u+'" target="_blank"><span class="icon-twitter"></span></a>'),c("#bio-left").animate({scrollTop:0},1),c("#bio-reveal").foundation("open")}),c(document).on("click","#bio-close",function(e){e.preventDefault()})}),Number.prototype.formatMoney=function(e,t,i){var n,e=isNaN(e=Math.abs(e))?2:e,t=null==t?".":t,i=null==i?",":i,o=this<0?"-":"",a=String(parseInt(n=Math.abs(Number(this)||0).toFixed(e))),r=3<(r=a.length)?r%3:0;return o+(r?a.substr(0,r)+i:"")+a.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+i)+(e?t+Math.abs(n-a).toFixed(e).slice(2):"")},function(e){var t,i={kitId:"nll1osg",scriptTimeout:3e3,async:!0},n=e.documentElement,o=setTimeout(function(){n.className=n.className.replace(/\bwf-loading\b/g,"")+" wf-inactive"},i.scriptTimeout),a=e.createElement("script"),r=!1,e=e.getElementsByTagName("script")[0];n.className+=" wf-loading",a.src="https://use.typekit.net/"+i.kitId+".js",a.async=!0,a.onload=a.onreadystatechange=function(){if(t=this.readyState,!(r||t&&"complete"!=t&&"loaded"!=t)){r=!0,clearTimeout(o);try{Typekit.load(i)}catch(e){}}},e.parentNode.insertBefore(a,e)}(document),jQuery(document).ready(function(o){o(document).foundation(),window.setInterval(function(){o(window).trigger("resize.px.parallax")},2e3),o('.home-hero .mydx2-widget input[type="submit"]').val("Find a home"),o("[data-video]").on("click",function(){var e=o(this).data("video"),t=o(this).data("open");o("#"+t).find(".video-embed").append(e)}),o("body").on("closed.zf.reveal",".video-modal",function(){o(".video-embed").html("")});new WOW({boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:function(e){var t,i,n;o(e).hasClass("level")&&(t=o(e).data("number"),i=t-20,n=setInterval(function(){i+=1,o(e).find(".chart-value").html(i),t<=i&&(o(e).find(".chart-value").html(t),clearInterval(n))},80))},scrollContainer:null}).init(),o(".lazy").lazyload(),o(function(){o("a.scroll").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=o(this.hash);if((e=e.length?e:o("[name="+this.hash.slice(1)+"]")).length)return o("html,body").animate({scrollTop:e.offset().top},1e3),!1}})});var e=document.getElementById("header"),e=new Headroom(e),e=(e.init(),e.offset=0,jQuery(".hero-button").click(function(e){e.preventDefault();var e=jQuery(this),t=e.attr("href"),e={content_name:e.data("contentName")},i=getUrlParameter("fb_test_event_code"),n=(i&&(e.test_event_code=i),!1);t&&(0===t.indexOf("#")&&(n=!0),t.includes(window.location.hostname))&&t.includes("#")&&(n=!0,t=t.substr(t.indexOf("#"))),jQuery.post("/wp-json/msre/v1/facebook/cta-click",e).done(function(e){e=e.pixel;jQuery("head").append(e)}).always(function(){if(n){var e=jQuery(t);if(e.length)return o("html,body").animate({scrollTop:e.offset().top},1e3),!1}else t&&(window.location.href=t)})}),window.location.hostname),t=document.getElementsByTagName("a"),i=getAllUtms(["utm_source","utm_medium","utm_campaign","utm_term","utm_content","utm_source_included"]),n=!1,a=i.filter(function(e){return-1<e.indexOf("utm_source=")}),r=i.filter(function(e){return-1<e.indexOf("utm_source_included=")}).length;i.length&&(!a.length||r||window.ms_utm_included||(window.ms_utm_included=!0,setUtmCookie(a[0]),n=!0),window.hasSetUtms||(setAllUtms(e,/(\&|\?)utm_[A-Za-z]+=[A-Za-z0-9%+]+/gi,t,i,n),window.hasSetUtms=!0)),jQuery(document).on("gform_post_render",function(){var e,d=Cookies.get("ms_utm_source");d&&a.length&&!containsBrandString(a[0])&&(e=d.substring(d.lastIndexOf("-")+1),a[0].replace("utm_source=","")===e)&&(d=d.substring(0,d.lastIndexOf("-"))),jQuery(".market-leadsource-form").each(function(){var e,t,i,n=getUrlParameter("utm_source"),o=jQuery(this).find(".manual-source input"),a=jQuery(this).find(".referral-source-1 input"),r=jQuery(this).find(".referral-source-2 input"),s=jQuery(this).find(".referral-source-group input"),l=jQuery(this).find(".referral-source-trigger select"),u=jQuery(this).find(".referral-source-group-trigger select");l.bind("change",function(){var e=jQuery(this).val();o.val(e)}),n?containsBrandString(n)?(l.bind("change",function(){var e=jQuery(this).val();a.val(e)}),u.bind("change",function(){var e=jQuery(this).val();s.val(e)}),r.val(n)):(s.val("Online"),a.val(n),r.val(d)):(r.val(d),l.bind("change",function(){var e=jQuery(this).val();a.val(e)}),u.bind("change",function(){var e=jQuery(this).val();s.val(e)})),jQuery(this).hasClass("careers-leadsource-form")&&(e=jQuery(this).find(".office-label-input input"),(n=jQuery(this).find(".market-dropdown select")).val()&&(e.val(n.find("option:selected").html()),e.trigger("change")),n.bind("change",function(){e.val(jQuery(this).find("option:selected").html()),e.trigger("change")}),t=jQuery(this).find(".position-input input"),i=jQuery(this).find(".greenhouse-job-id-input input"),jQuery(this).find(".positions-trigger select").bind("change",function(){t.val(jQuery(this).find("option:selected").html()),i.val(jQuery(this).val())}))})})}),jQuery(document).ready(function(){jQuery(document).on("gform_confirmation_loaded",function(e,t){if(3==parseInt(t))try{console.log("form submitted-----------"),gtag("event","conversion",{send_to:"AW-756743426/HkHOCKuq1pcBEIL66-gC"})}catch(e){console.log("form error-----------",e)}}),jQuery(document).on("gform_post_render",function(e,t){var t=".gfieldname_"+t+"_device_information .ginput_container input",i=navigator.userAgent,n=jQuery(".gform_hidden"),o=i.includes("Chrome");jQuery(t).val(i),o?n.attr("autocomplete","password"):n.attr("autocomplete","off")})}),jQuery(document).ready(function(){jQuery(document).on("gform_page_loaded",function(e,t,i){handleClientSideValidation(t,i)}),jQuery(document).on("gform_post_render",function(e,t,i){handleClientSideValidation(t,i)})}),function(e,t){var i="BackgroundVideo";"function"==typeof define&&define.amd?define([],t()):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=t():e[i]=t()}(window||module||{},function(e){function i(e,t){e.classList?e.classList.add(t):e.className+=" "+t}var o={parallax:{effect:1.5},pauseVideoOnViewLoss:!1,preventContextMenu:!1,minimumVideoWidth:400,onBeforeReady:function(){},onReady:function(){}};return function(){function n(e,t){_classCallCheck(this,n),this.element=document.querySelectorAll(e),this.options=Object.assign({},o,t),this.options.browserPrexix=this.detectBrowser(),this.shimRequestAnimationFrame(),this.options.has3d=this.detect3d(),this.setWindowDimensions();for(var i=0;i<this.element.length;i++)this.init(this.element[i],i)}return _createClass(n,[{key:"init",value:function(e,t){this.el=e,this.playEvent=this.videoReadyCallback.bind(this),this.setVideoWrap(t),this.setVideoProperties(),this.insertVideos(),this.options&&this.options.onBeforeReady()&&this.options.onBeforeReady(),3<this.el.readyState?this.videoReadyCallback():(this.el.addEventListener("canplaythrough",this.playEvent,!1),this.el.addEventListener("canplay",this.playEvent,!1)),this.options.preventContextMenu&&this.el.addEventListener("contextmenu",function(){return!1})}},{key:"videoReadyCallback",value:function(){this.el.removeEventListener("canplaythrough",this.playEvent,!1),this.el.removeEventListener("canplay",this.playEvent,!1),this.options.originalVideoW=this.el.videoWidth,this.options.originalVideoH=this.el.videoHeight,this.bindEvents(),this.requestTick(),this.options&&this.options.onReady()&&this.options.onReady()}},{key:"bindEvents",value:function(){this.ticking=!1,this.options.parallax&&window.addEventListener("scroll",this.requestTick.bind(this)),window.addEventListener("resize",this.requestTick.bind(this)),window.addEventListener("resize",this.setWindowDimensions.bind(this))}},{key:"setWindowDimensions",value:function(){this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight}},{key:"requestTick",value:function(){this.ticking||(this.ticking=!0,window.requestAnimationFrame(this.positionObject.bind(this)))}},{key:"positionObject",value:function(){var e=window.pageYOffset,t=this.scaleObject(),i=t.xPos,t=t.yPos,t=this.options.parallax?0<=e?this.calculateYPos(t,e):this.calculateYPos(t,0):-t,e=this.options.has3d?"translate3d(".concat(i,"px, ").concat(t,"px, 0)"):"translate(".concat(i,"px, ").concat(t,"px)");this.el.style["".concat(this.options.browserPrexix)]=e,this.el.style.transform=e,this.ticking=!1}},{key:"scaleObject",value:function(){var e=this.windowWidth/this.options.originalVideoW,t=this.windowHeight/this.options.originalVideoH,t=(this.options.bvVideoWrap.style.width="".concat(this.windowWidth,"px"),this.options.bvVideoWrap.style.height="".concat(this.windowHeight,"px"),(e=(e=t<e?e:t)*this.options.originalVideoW<this.options.minimumVideoWidth?this.options.minimumVideoWidth/this.options.originalVideoW:e)*this.options.originalVideoW),e=e*this.options.originalVideoH;return this.el.style.width="".concat(t,"px"),this.el.style.height="".concat(e,"px"),{xPos:-parseInt((t-this.windowWidth)/2),yPos:parseInt(e-this.windowHeight)/2}}},{key:"calculateYPos",value:function(e,t){return e=-((parseInt(this.options.bvVideoWrap.offsetTop)-t)/this.options.parallax.effect+e)}},{key:"setVideoWrap",value:function(e){var t=document.createElement("div");this.options.bvVideoWrapClass="".concat(this.el.className,"-wrap-").concat(e),i(t,"bv-video-wrap"),i(t,this.options.bvVideoWrapClass),t.style.position="relative",t.style.overflow="hidden",t.style.zIndex="10",this.el.parentNode.insertBefore(t,this.el),t.appendChild(this.el),this.options.bvVideoWrap=document.querySelector(".".concat(this.options.bvVideoWrapClass))}},{key:"setVideoProperties",value:function(){this.el.setAttribute("preload","metadata"),this.el.setAttribute("loop","true"),this.el.setAttribute("autoplay","true"),this.el.style.position="absolute",this.el.style.zIndex="1"}},{key:"insertVideos",value:function(){for(var e=0;e<this.options.src.length;e++){var t=this.options.src[e].split(".");t[t.length-1];this.addSourceToVideo(this.options.src[e],"video/mp4")}}},{key:"addSourceToVideo",value:function(e,t){var i=document.createElement("source");i.src=e,i.type=t,this.el.appendChild(i)}},{key:"detectBrowser",value:function(){var e,t=navigator.userAgent.toLowerCase();return-1<t.indexOf("chrome")||-1<t.indexOf("safari")?e="webkitTransform":-1<t.indexOf("firefox")?e="MozTransform":-1!==t.indexOf("MSIE")||0<t.indexOf("Trident/")?e="msTransform":-1<t.indexOf("Opera")&&(e="OTransform"),e}},{key:"shimRequestAnimationFrame",value:function(){for(var a=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),o=window.setTimeout(function(){e(i+n)},n);return a=i+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}},{key:"detect3d",value:function(){var e,t,i=document.createElement("p"),n={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(e in document.body.insertBefore(i,document.body.lastChild),n)void 0!==i.style[e]&&(i.style[e]="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",t=window.getComputedStyle(i).getPropertyValue(n[e]));return i.parentNode.removeChild(i),void 0!==t&&"none"!==t}}]),n}()}),jQuery(document).ready(function(){var e=window.location.href;jQuery("link[rel=canonical]").attr("href",e)});